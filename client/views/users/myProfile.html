<template name="myProfile">

	{{#HammerTouchArea gestureMap=profileGestures}}

		<div id="content">
			{{> appNav}}

			<div class="container user-profile">

				<button id="edit-profile" class="view btn btn-sm btn-warning pull-right"><i class="fa fa-pencil"></i></button>
				<button id="save-profile" class="edit btn btn-sm btn-success pull-right"><i class="fa fa-check"></i></button>
				<button id="cancel-profile" class="edit btn btn-sm btn-default pull-right"><i class="fa fa-undo"></i></button>

				<div class="row">
					<div class="gravatar-container large my-center-block">
						<span id="change-gravatar">{{{currentUserGravatar size='large'}}}</span>
					</div>
				</div>

				<form id="form-profile">
					<div class="row">
						<div class="col-xs-12">
							<h3 class="page-header view text-center">
								{{currentUserFullName}}<br/>
								<small class="text-muted"><em>{{currentUserTagline}}</em></small>
							</h3>
							<div class="edit row top-margin-30">
								<div class="col-xs-12">
									<input name="display-name" type="text" class="form-control"
									       placeholder="{{currentUserFullName}}" value="{{currentUserFullName}}" />
								</div><!-- /.col-lg-6 -->
							</div><!-- /.row -->
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12">
							<div class="edit row top-margin-30">
								<div class="col-xs-12">
									<input name="tagline" type="text" class="form-control"
									       placeholder="{{currentUserTagline true}}" value="{{currentUserTagline}}" />
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12">
							<div class="edit row top-margin-30">
								<div class="col-xs-12">
									<div class="input-group date dob-datepicker">
										<input name="dob" type="text" class="form-control"
										       placeholder="Date of Birth" value="{{currentUserAge true}}" />
										<span class="input-group-addon"><i class="glyphicon glyphicon-th"></i></span>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12">
							<p class="view text-muted text-center"><em>{{currentUserAge}}, {{{currentUserGender}}}</em></p>
							<div class="edit row top-margin-30">
								<div class="col-xs-12">
									<select class="gender-select" name="gender">
										<option value=""><i class="fa fa-genderless"></i> No gender identified</option>
										<option {{isGender '1'}} value="1"><i class="fa fa-mars"></i> Male</option>
										<option {{isGender '2'}} value="2"><i class="fa fa-venus"></i> Female</option>
										<option {{isGender '3'}} value="3"><i class="fa fa-transgender"></i> Who knows ? We are not judgemental. :)</option>
									</select>
								</div>
							</div>
						</div>
					</div>
				</form>

			</div>

			{{> footer}}

		</div>

		{{> gravatarModal}}

	{{/HammerTouchArea}}

</template>

<template name="gravatarModal">
	<div id="reset-gravatar-modal" class="modal fade" tabindex="-1" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Gravatar</h4>
				</div>
				<div class="modal-body">
					{{{currentUserGravatar size='large' forceGravatar=true}}}
					<p>Do you want to replace your profile picture with your Gravatar ?</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" id="reset-gravatar" class="btn btn-primary">Save changes</button>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
</template>